import{d as w,r as a,a as o,b as t,k as h,t as n,E as c,F as g,C as R,a0 as K,o as r,l as P}from"./index-D2bSb7K5.js";import{u as z}from"./broadcast-IcFaNCKo.js";import"./broadcast-wwRhn7Vn.js";const A={class:"info-seperator"},G={key:0,class:"song-info"},U={class:"bottom-text"},F={class:"digital-clock"},j={key:1,class:"song-info"},H={class:"song-number"},q={key:0,class:"verses-label"},J={key:1,class:"digital-clock"},Q={key:2,class:"clock"},T=w({__name:"BroadcastView",setup(W){K(e=>({"210eda2a":B.value,faca79de:y.value}));const S=a(""),p=a(""),k=a(""),_=a("");function C(){let e=new Date,l=e.getHours(),s=e.getMinutes(),v=e.getSeconds(),f=l*30+s*(360/720),$=s*6+v*(360/3600),D=v*6;S.value=`rotate(${f}deg)`,p.value=`rotate(${$}deg)`,k.value=`rotate(${D}deg)`;let L=l>=12?"PM":"AM",V=l%12;V=l||12,_.value=`${V}:${s<10?"0"+s:s} ${L}`}function I(e){const s=(e-3)*30*(Math.PI/180),v=225*Math.cos(s),f=225*Math.sin(s);return{transform:`translate(${v}px, ${f}px)`}}setInterval(C,100);const i=a(""),u=a(""),y=a("10rem"),b=a(""),B=a("#b49267"),O=a("Unauthorized"),m=a(!1),d=a(!1),x=a(""),E=a(""),N=z();async function M(){if(!N.is_ready)return;let e=await N.getCurrentBroadcast();d.value=e.BOOK_ID.S=="BIBLE",d.value?(x.value=e.SONG_NUMBER.S,E.value=e.BOOK_COLOR.S):(i.value=e.SONG_NUMBER.S,m.value=!1,e.VERSES.NS[0]==-1?u.value="":e.VERSES.NS[0]==-2?u.value="All Verses":(e.VERSES.NS.sort((l,s)=>l-s),u.value=e.VERSES.NS.join(", "),y.value=u.value.length>30?"8rem":"10rem",m.value=!0),b.value=e.BOOK_COLOR.S,O.value=e.BOOK_ID.S,B.value=e.BG_COLOR.S)}return setInterval(M,1e3),(e,l)=>(r(),o(g,null,[l[1]||(l[1]=t("div",{class:"background-cover"},null,-1)),t("div",A,[d.value?(r(),o("div",G,[t("h2",{ref:"top_text_element",class:"top-text"},n(x.value),513),t("h2",U,n(E.value),1),t("h2",F,n(_.value),1)])):(r(),o("div",j,[t("h1",H,n(i.value),1),m.value?(r(),o("h3",q,"Verses:")):h("",!0),t("h2",{class:"verses",ref:"verses_text"},n(u.value),513),t("h2",{class:"book-name",style:c({color:b.value})},n(O.value),5),i.value.length>0?(r(),o("h2",J,n(_.value),1)):h("",!0)])),i.value.length==0&&!d.value?(r(),o("div",Q,[l[0]||(l[0]=t("div",{class:"dot"},null,-1)),t("div",null,[t("div",{class:"hour-hand",style:c({transform:S.value})},null,4),t("div",{class:"minute-hand",style:c({transform:p.value})},null,4),t("div",{class:"second-hand",style:c({transform:k.value})},null,4)]),(r(),o(g,null,R(12,s=>t("span",{key:s,style:c(I(s))},n(s),5)),64)),(r(),o(g,null,R(60,s=>t("div",{class:"diallines",key:s,style:c({transform:"rotate("+6*s+"deg)"})},null,4)),64))])):h("",!0)])],64))}}),ee=P(T,[["__scopeId","data-v-71e2fb9a"]]);export{ee as default};
