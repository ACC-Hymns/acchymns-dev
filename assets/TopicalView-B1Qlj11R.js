import{_ as P}from"./chevron-back-outline-WBEKPQRX.js";import{d as C,m as A,r as i,n as F,q as T,s as $,v as D,L as E,z as G,A as M,B as L,a as g,F as w,C as x,g as l,o as d,b as n,t as m,G as b,e as R,i as z,E as I,R as K,H as V,I as j,J as N,K as q,l as H}from"./index-11QSKYHt.js";const J=["onClick"],Q={class:"song-title"},U={class:"song__title"},W={class:"booktext--right"},X={class:"song__number"},Y=C({__name:"TopicalView",setup(Z){const p=A(),c={book:p.params.book},O=i(!1);let h=i(""),k=i("#FFFFFF"),y=i("#000000"),u=i({}),v=null,_=null;F((s,t)=>{j(t.fullPath),s.fullPath.includes("/display")||(N(t.fullPath),q(t.fullPath))}),T(async()=>{_=await $(),v=await D(c.book),h.value=_[c.book].name.short,k.value=_[c.book].primaryColor,y.value=_[c.book].secondaryColor;const s=await E(_[c.book].name.short);if(s==null||v==null){O.value=!0;return}for(let[r,o]of Object.entries(s)){u.value[r]=[];for(let e of o)u.value[r].push({number:e,title:v[e].title,notes:v[e].notes});u.value[r].sort((e,B)=>e.title.replace(/[.,/#!$%^&*;:{}=\-_'"`~()]/g,"").localeCompare(B.title.replace(/[.,/#!$%^&*;:{}=\-_'"`~()]/g,"")))}f.value=Object.keys(u.value);let t=G(p.fullPath);t!=null&&t.forEach(r=>{a.value.push(f.value[r])}),await M(),L(p.fullPath)});let f=i([]),a=i([]);function S(s){a.value.includes(s)?a.value.splice(a.value.indexOf(s),1):a.value.push(s);let t=[];a.value.forEach(r=>{var o=f.value.indexOf(r);t.push(o)}),V(p.fullPath,t)}return(s,t)=>(d(),g("div",null,[(d(!0),g(w,null,x(l(u),(r,o)=>(d(),g("div",{key:o,class:"song-group-container",ref_for:!0,ref:"song_group_elements"},[n("div",{class:"song-group-title-container",onClick:e=>S(o.toString())},[n("div",Q,m(o),1),n("img",{class:b(["ionicon nav__icon dropdown-icon",{"dropdown-icon-active":l(a).includes(o.toString())}]),src:P},null,2)],8,J),n("div",{class:b(["wrapper",{"wrapper-active":l(a).includes(o.toString())}])},[n("div",{class:b(["song-button-container",{"song-button-container-active":l(a).includes(o.toString())}])},[(d(!0),g(w,null,x(l(u)[o],e=>(d(),R(l(K),{key:e.title+e.number,to:`/display/${l(h)}/${e.number}`,class:"song topic-song",style:I(`background: linear-gradient(135deg, ${l(k)}, ${l(y)})`)},{default:z(()=>[n("div",null,[n("div",U,m(e.title),1)]),n("div",W,[n("div",X,"#"+m(e.number),1)])]),_:2},1032,["to","style"]))),128))],2)],2)]))),128))]))}}),te=H(Y,[["__scopeId","data-v-4af4aeb4"]]);export{te as default};
