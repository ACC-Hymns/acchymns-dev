import{a9 as E,aa as b,ab as R,c as D,ac as g,ad as f,ae as $,af as Y,g as j,ag as P,r as T,N as _,ah as B}from"./index-CLgbkdwI.js";const I=R?window:void 0;function y(e){var n;const o=f(e);return(n=o==null?void 0:o.$el)!=null?n:o}function v(...e){const n=[],o=()=>{n.forEach(t=>t()),n.length=0},s=(t,r,i,d)=>(t.addEventListener(r,i,d),()=>t.removeEventListener(r,i,d)),c=D(()=>{const t=g(f(e[0])).filter(r=>r!=null);return t.every(r=>typeof r!="string")?t:void 0}),p=$(()=>{var t,r;return[(r=(t=c.value)==null?void 0:t.map(i=>y(i)))!=null?r:[I].filter(i=>i!=null),g(f(c.value?e[1]:e[0])),g(j(c.value?e[2]:e[1])),f(c.value?e[3]:e[2])]},([t,r,i,d])=>{if(o(),!(t!=null&&t.length)||!(r!=null&&r.length)||!(i!=null&&i.length))return;const w=Y(d)?{...d}:d;n.push(...t.flatMap(h=>r.flatMap(k=>i.map(M=>s(h,k,M,w)))))},{flush:"post"}),m=()=>{p(),o()};return P(o),m}let W=!1;function A(e,n,o={}){const{window:s=I,ignore:c=[],capture:p=!0,detectIframe:m=!1}=o;if(!s)return E;if(b&&!W){W=!0;const l={passive:!0};Array.from(s.document.body.children).forEach(u=>v(u,"click",E,l)),v(s.document.documentElement,"click",E,l)}let t=!0;const r=l=>f(c).some(u=>{if(typeof u=="string")return Array.from(s.document.querySelectorAll(u)).some(a=>a===l.target||l.composedPath().includes(a));{const a=y(u);return a&&(l.target===a||l.composedPath().includes(a))}});function i(l){const u=f(l);return u&&u.$.subTree.shapeFlag===16}function d(l,u){const a=f(l),O=a.$.subTree&&a.$.subTree.children;return O==null||!Array.isArray(O)?!1:O.some(S=>S.el===u.target||u.composedPath().includes(S.el))}const w=l=>{const u=y(e);if(l.target!=null&&!(!(u instanceof Element)&&i(e)&&d(e,l))&&!(!u||u===l.target||l.composedPath().includes(u))){if(l.detail===0&&(t=!r(l)),!t){t=!0;return}n(l)}};let h=!1;const k=[v(s,"click",l=>{h||(h=!0,setTimeout(()=>{h=!1},0),w(l))},{passive:!0,capture:p}),v(s,"pointerdown",l=>{const u=y(e);t=!r(l)&&!!(u&&!l.composedPath().includes(u))},{passive:!0}),m&&v(s,"blur",l=>{setTimeout(()=>{var u;const a=y(e);((u=s.document.activeElement)==null?void 0:u.tagName)==="IFRAME"&&!(a!=null&&a.contains(s.document.activeElement))&&n(l)},0)},{passive:!0})].filter(Boolean);return()=>k.forEach(l=>l())}const x={mounted(e,n){const o=!n.modifiers.bubble;if(typeof n.value=="function")e.__onClickOutside_stop=A(e,n.value,{capture:o});else{const[s,c]=n.value;e.__onClickOutside_stop=A(e,s,Object.assign({capture:o},c))}},unmounted(e){e.__onClickOutside_stop()}};function C(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function N(e){const n=window.getComputedStyle(e);if(n.overflowX==="scroll"||n.overflowY==="scroll"||n.overflowX==="auto"&&e.clientWidth<e.scrollWidth||n.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const o=e.parentNode;return!o||o.tagName==="BODY"?!1:N(o)}}function F(e){const n=e||window.event,o=n.target;return N(o)?!1:n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)}const L=new WeakMap;function H(e,n=!1){const o=T(n);let s=null,c="";_(B(e),t=>{const r=C(f(t));if(r){const i=r;if(L.get(i)||L.set(i,i.style.overflow),i.style.overflow!=="hidden"&&(c=i.style.overflow),i.style.overflow==="hidden")return o.value=!0;if(o.value)return i.style.overflow="hidden"}},{immediate:!0});const p=()=>{const t=C(f(e));!t||o.value||(b&&(s=v(t,"touchmove",r=>{F(r)},{passive:!1})),t.style.overflow="hidden",o.value=!0)},m=()=>{const t=C(f(e));!t||!o.value||(b&&(s==null||s()),t.style.overflow=c,L.delete(t),o.value=!1)};return P(m),D({get(){return o.value},set(t){t?p():m()}})}function X(){let e=!1;const n=T(!1);return(o,s)=>{if(n.value=s.value,e)return;e=!0;const c=H(o,s.value);_(n,p=>c.value=p)}}X();export{x as v};
