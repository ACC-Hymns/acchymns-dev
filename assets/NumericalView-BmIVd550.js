import{_ as T}from"./chevron-back-outline-WBEKPQRX.js";import{d as V,m as F,n as I,r as n,p as K,q as j,s as q,v as H,x as J,y as Q,z as U,A as W,B as X,a as d,g as l,F as k,C as h,o as r,e as S,i as O,D as A,t as y,E as B,R as E,b as _,G as w,H as Y,I as Z,J as ee,K as ae,l as se}from"./index-CLgbkdwI.js";const te={class:"songs"},oe={key:0,class:"song-button-container"},le=["onClick"],ne={class:"song-title"},re=V({__name:"NumericalView",setup(ie){const p=F(),i={book:p.params.book};I((a,s)=>{Z(s.fullPath),a.fullPath.includes("/display")||(ee(s.fullPath),ae(s.fullPath))});const N=n(!1),v=n([]);let $=n(""),D=n(!1),g=n("#000000"),f=n([]),t=n([]),R=n(),G=K("ACCOptions.songGroupEnabled",!0);j(async()=>{var x;const a=await q(),s=await H(i.book);if(s==null){await J(i.book),N.value=!0;return}v.value=Object.keys(s).sort((o,b)=>o.localeCompare(b,"en",{numeric:!0}));let e=v.value.length,c=Math.ceil(e/100);for(let o=0;o<c;o++){const b=new RegExp(/[a-z]/,"i");(x=f.value)==null||x.push(v.value.filter(L=>{let m=L.replace(b,""),C=o*100,P=(o+1)*100-1;return o===c-1&&e===P+1?C<=Number(m):C<=Number(m)&&Number(m)<=P}))}$.value=a[i.book].name.medium,g.value=a[i.book].primaryColor,D.value=a[i.book].indexAvailable,Q("isAlphabetical",!1).value=!1;let u=U(p.fullPath);u!=null&&u.forEach(o=>{t.value.push(f.value[o])}),await W(),X(p.fullPath)});function M(a){t.value.includes(a)?t.value.splice(t.value.indexOf(a),1):t.value.push(a);let s=[];t.value.forEach(e=>{var c=f.value.indexOf(e);s.push(c)}),Y(p.fullPath,s)}function z(a,s){return a==s?a:`${a} - ${s}`}return(a,s)=>(r(),d("div",te,[l(G)?(r(!0),d(k,{key:1},h(l(f),(e,c)=>(r(),d("div",{key:c,class:"song-group-container",ref_for:!0,ref_key:"song_group_elements",ref:R},[_("div",null,[_("div",{class:"song-group-title-container",onClick:u=>M(e)},[_("div",ne,y(z(e[0],e[e.length-1])),1),_("img",{class:w(["ionicon nav__icon dropdown-icon",{"dropdown-icon-active":l(t).includes(e)}]),src:T},null,2)],8,le),_("div",{class:w(["wrapper",{"wrapper-active":l(t).includes(e)}])},[_("div",{class:w(["song-button-container",{active:l(t).includes(e)}])},[(r(!0),d(k,null,h(e,u=>(r(),S(l(E),{key:u,to:`/display/${i.book}/${u}`,class:"song-btn",style:B({background:l(g)})},{default:O(()=>[A(y(u),1)]),_:2},1032,["to","style"]))),128))],2)],2)])]))),128)):(r(),d("div",oe,[(r(!0),d(k,null,h(v.value,e=>(r(),S(l(E),{key:e,to:`/display/${i.book}/${e}`,class:"song-btn",style:B({background:l(g)})},{default:O(()=>[A(y(e),1)]),_:2},1032,["to","style"]))),128))]))]))}}),de=se(re,[["__scopeId","data-v-643d52d9"]]);export{de as default};
