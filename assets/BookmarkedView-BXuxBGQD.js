import{d as v,r as m,c as _,V as h,q as g,s as y,a5 as B,a as p,b as o,f as S,w as A,a0 as M,g as i,S as w,F as k,C as x,o as n,e as C,i as D,t as u,E as T,R as V,_ as E}from"./index-CLgbkdwI.js";import{s as d}from"./search-DMKd9V-b.js";const $={class:"search-bar"},q={class:"songlist"},z={class:"song__title"},N={class:"book__title"},O={class:"booktext--right"},R={class:"song__number"},K=v({__name:"BookmarkedView",setup(F){let r=m(""),l=_(()=>d(r.value)),c=m([]),b=_(()=>c.value.filter(a=>{var t,e,s;return((t=a.stripped_title)==null?void 0:t.includes(l.value))||((e=a==null?void 0:a.stripped_first_line)==null?void 0:e.includes(l.value))||((s=a==null?void 0:a.number)==null?void 0:s.includes(l.value))}).sort((a,t)=>a.title.localeCompare(t.title)));const f=h("bookmarks",[]);return g(async()=>{const a=await y(),t=await B();for(const e of f.value){if(t[e.book]==null)continue;const s=t[e.book][e.number];c.value.push({title:s.title??"",number:e.number,book:a[e.book],stripped_title:d(s.title??""),stripped_first_line:d(s.first_line??"")})}}),(a,t)=>(n(),p(k,null,[t[2]||(t[2]=o("h1",{class:"pagetitle"},"Bookmarks",-1)),o("div",$,[A(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>w(r)?r.value=e:r=e),placeholder:"Search for a song title or number...","aria-label":"Search through site content"},null,512),[[M,i(r)]]),t[1]||(t[1]=o("button",{disabled:""},[o("svg",{viewBox:"0 0 1024 1024"},[o("path",{class:"path1",d:"M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"})])],-1))]),t[3]||(t[3]=o("h2",null,"Bookmarked Songs",-1)),o("div",q,[(n(!0),p(k,null,x(i(b),e=>(n(),C(i(V),{key:e.book.name.short+e.number,to:`/display/${e.book.name.short}/${e.number}`,class:"song",style:T(`background: linear-gradient(135deg, ${e.book.primaryColor}, ${e.book.secondaryColor})`)},{default:D(()=>[o("div",null,[o("div",z,u(e.title),1),o("div",N,u(e.book.name.medium),1)]),o("div",O,[o("div",R,"#"+u(e.number),1)])]),_:2},1032,["to","style"]))),128))]),S(E,{current_page:"bookmarks"})],64))}});export{K as default};
