import{_ as P}from"./chevron-back-outline-WBEKPQRX.js";import{_ as V}from"./chevron-forward-outline-nNwROxiU.js";import{S as k,_ as z}from"./index-BGHT_9Bt.js";import{u as H}from"./navigator-CVZJ-iL0.js";import{d as R,O as v,r as c,aj as q,a as r,b as t,f as y,k as d,g as l,F as _,C as O,E as j,e as b,ak as I,ai as W,i as Y,R as G,G as K,al as Q,am as J,an as M,ao as X,ah as C,ap as Z,aq as ee,ar as te,as as ae,o,at as se,t as oe,_ as ne,l as le}from"./index-D2bSb7K5.js";import{T as h}from"./index-Baif7MmL.js";import{D as w}from"./index-uXNIL5gU.js";const m="/acchymns-dev/assets/link-outline.svg",re={key:0,class:"update-section"},ie={key:1,class:"update-book-list-entry more-update"},ce={class:"update-button-layout"},ue={key:1},pe={class:"menu"},de={class:"title"},me={class:"settings main-content"},fe=R({__name:"SettingsHelpView",setup(ge){const{back:S}=H(),B=v.getPlatform()==="web";let s=c([]),i=c(0),f=c(),g=c();async function D(){(await w.confirm({title:"Clear Cache",message:"Are you sure you want to clear the cache?",okButtonTitle:"Yes",cancelButtonTitle:"No"})).value&&(Q(),h.show({text:"Cleared Cache!"}))}async function U(){let a=await J();for(let e of a)e.book_summary=await M(e.book_short);s.value=a}function F(){i.value>0||(f.value.style.opacity="0.0",g.value.style.opacity="0.0",s.value=[])}async function A(){if(!(i.value>0)){var a=[s.value.length];for(let e=0;e<s.value.length;e++){let n=s.value[e];await X(n,u=>{a[e]=u,i.value=a.reduce((p,T)=>p+T,0)/s.value.length},()=>{i.value=0,s.value=[]})}}}async function N(){(await w.confirm({title:"Clear All Data",message:"Are you sure you want to clear ALL your data? This includes bookmarks and imported books!",okButtonTitle:"Yes",cancelButtonTitle:"No"})).value&&(localStorage.clear(),C.remove({key:"bookSources"}),C.remove({key:"bookOrder"}),Z(),h.show({text:"Cleared All Data!"}))}const $=c(v.getPlatform()),x=q();async function E(){const{uri:a}=await ee.writeFile({path:"logs.txt",data:x.logs,directory:ae.Cache,encoding:te.UTF8});await k.share({url:a})}const L=c(!1);return k.canShare().then(a=>L.value=a.value),(a,e)=>(o(),r(_,null,[t("div",{class:K({"modal-open":l(s).length>0})},[l(s).length>0?(o(),r("div",re,[t("div",{class:"background-blur",ref_key:"update_background_element",ref:f},null,512),t("div",{class:"update-panel",ref_key:"update_panel_element",ref:g},[e[5]||(e[5]=t("h2",null,"Hymnal Updates",-1)),e[6]||(e[6]=t("p",null,"Updates found for:",-1)),t("div",null,[(o(!0),r(_,null,O(l(s),(n,u)=>{var p;return o(),r("div",{key:n.book_short},[u<5?(o(),b(se,{key:0,src:((p=n.book_summary)==null?void 0:p.srcUrl)||"",class:"update-book-list-entry","with-link":!1},null,8,["src"])):u==5?(o(),r("div",ie,[t("h4",null,oe(l(s).length-5)+" more...",1)])):d("",!0)])}),128))]),t("div",ce,[t("a",{class:"update-button",onClick:F,style:j({opacity:l(i)>0?.3:1})},"Later",4),t("a",{class:"update-button-blue",onClick:A},[l(i)>0?(o(),b(I,{key:0,radius:15,progress:l(i)*100,stroke:3,transform:"rotate(-90) translate(-24, 0)"},null,8,["progress"])):(o(),r("span",ue,"Update"))])])],512)])):d("",!0),t("div",pe,[t("div",de,[t("img",{onClick:e[0]||(e[0]=n=>l(S)()),class:"ionicon title--left",src:P}),e[7]||(e[7]=t("div",{class:"title--center"},[t("h1",null,"Help")],-1))])]),t("div",me,[e[13]||(e[13]=W('<a href="https://forms.gle/1t7rtUkNaksEUtPEA" class="settings-option" data-v-ce0f44be><span data-v-ce0f44be>Request a Book or Feature</span><img class="ionicon" src="'+m+'" data-v-ce0f44be></a><a href="https://forms.gle/Ezh7d8LFsN5eKdo87" class="settings-option" data-v-ce0f44be><span data-v-ce0f44be>Report a Bug</span><img class="ionicon" src="'+m+'" data-v-ce0f44be></a><a href="https://docs.google.com/document/d/1zWztUrFOr_6ksqDDm4EbQ0jk7trwofaVeeSybcD5PcA" class="settings-option" data-v-ce0f44be><span data-v-ce0f44be>Privacy Policy</span><img class="ionicon" src="'+m+'" data-v-ce0f44be></a>',3)),y(l(G),{to:"/settings/help/console",class:"settings-option"},{default:Y(()=>e[8]||(e[8]=[t("span",null,"Debug Console",-1),t("img",{class:"entrypoint ionicon",src:V},null,-1)])),_:1}),$.value!=="web"?(o(),r("a",{key:0,class:"settings-option",onClick:e[1]||(e[1]=n=>E())},e[9]||(e[9]=[t("span",null,"Export Logs",-1),t("img",{class:"entrypoint ionicon",src:z},null,-1)]))):d("",!0),B?d("",!0):(o(),r("a",{key:1,class:"settings-option",onClick:e[2]||(e[2]=n=>U())},e[10]||(e[10]=[t("span",null,"Force Update Hymnals",-1)]))),t("a",{class:"settings-option",onClick:e[3]||(e[3]=n=>D())},e[11]||(e[11]=[t("span",null,"Clear Cache",-1)])),t("a",{class:"settings-option",onClick:e[4]||(e[4]=n=>N())},e[12]||(e[12]=[t("span",null,"Clear All Data",-1)]))])],2),y(ne,{current_page:"settings"})],64))}}),we=le(fe,[["__scopeId","data-v-ce0f44be"]]);export{we as default};
