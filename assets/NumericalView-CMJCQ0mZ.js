import{_ as z}from"./chevron-back-outline-WBEKPQRX.js";import{d as L,m as T,n as V,r as n,p as F,q as I,s as K,v as j,x as q,y as H,z as J,A as Q,B as U,a as c,g as t,F as m,C as k,o as r,e as C,i as P,D as S,t as h,E as O,R as A,b as d,G as y,H as W,I as X,J as Y,K as Z,l as ee}from"./index-CDytosBU.js";const ae={class:"songs"},se={key:0,class:"song-button-container"},oe=["onClick"],te={class:"song-title"},le=L({__name:"NumericalView",setup(ne){const p=T(),i={book:p.params.book};V((a,s)=>{X(s.fullPath),a.fullPath.includes("/display")||(Y(s.fullPath),Z(s.fullPath))});const B=n(!1),v=n([]);let E=n(""),$=n(!1),g=n("#000000"),f=n([]),o=n([]),D=n(),N=F("ACCOptions.songGroupEnabled",!0);I(async()=>{var w;const a=await K(),s=await j(i.book);if(s==null){await q(i.book),B.value=!0;return}v.value=Object.keys(s).sort((l,b)=>l.localeCompare(b,"en",{numeric:!0}));let e=v.value.length,_=Math.ceil(e/100);for(let l=0;l<_;l++){const b=new RegExp(/[a-z]/,"i");(w=f.value)==null||w.push(v.value.filter(M=>{let x=M.replace(b,"");return l*100<Number(x)&&Number(x)<=(l+1)*100}))}E.value=a[i.book].name.medium,g.value=a[i.book].primaryColor,$.value=a[i.book].indexAvailable,H("isAlphabetical",!1).value=!1;let u=J(p.fullPath);u!=null&&u.forEach(l=>{o.value.push(f.value[l])}),await Q(),U(p.fullPath)});function R(a){o.value.includes(a)?o.value.splice(o.value.indexOf(a),1):o.value.push(a);let s=[];o.value.forEach(e=>{var _=f.value.indexOf(e);s.push(_)}),W(p.fullPath,s)}function G(a,s){return a==s?a:`${a} - ${s}`}return(a,s)=>(r(),c("div",ae,[t(N)?(r(!0),c(m,{key:1},k(t(f),(e,_)=>(r(),c("div",{key:_,class:"song-group-container",ref_for:!0,ref_key:"song_group_elements",ref:D},[d("div",null,[d("div",{class:"song-group-title-container",onClick:u=>R(e)},[d("div",te,h(G(e[0],e[e.length-1])),1),d("img",{class:y(["ionicon nav__icon dropdown-icon",{"dropdown-icon-active":t(o).includes(e)}]),src:z},null,2)],8,oe),d("div",{class:y(["wrapper",{"wrapper-active":t(o).includes(e)}])},[d("div",{class:y(["song-button-container",{active:t(o).includes(e)}])},[(r(!0),c(m,null,k(e,u=>(r(),C(t(A),{key:u,to:`/display/${i.book}/${u}`,class:"song-btn",style:O({background:t(g)})},{default:P(()=>[S(h(u),1)]),_:2},1032,["to","style"]))),128))],2)],2)])]))),128)):(r(),c("div",se,[(r(!0),c(m,null,k(v.value,e=>(r(),C(t(A),{key:e,to:`/display/${i.book}/${e}`,class:"song-btn",style:O({background:t(g)})},{default:P(()=>[S(h(e),1)]),_:2},1032,["to","style"]))),128))]))]))}}),ue=ee(le,[["__scopeId","data-v-cf49fd01"]]);export{ue as default};
